{"version":3,"file":"js/20.708bb89d.js","mappings":"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","sources":["webpack://designer/./src/views/list.vue?cec0","webpack://designer/src/views/list.vue","webpack://designer/./src/views/list.vue?1287","webpack://designer/./src/views/list.vue","webpack://designer/./src/tools/timer.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"list\"},[(_vm.user.role != 2 && _vm.user.id != 0)?_c('div',{staticClass:\"list_head\"},[_c('div',{staticClass:\"left-button\"},[_c('el-button',{staticStyle:{\"color\":\"#000000\",\"border-width\":\"0px\",\"background-color\":\"unset\",\"font-weight\":\"500\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-arrow-left\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/group')}}},[_vm._v(_vm._s(_vm.lang.back))])],1),_c('div',{staticClass:\"preference\"},[_c('router-link',{attrs:{\"to\":_vm.getDesignPreferenceLink()}},[_c('el-button',{staticStyle:{\"background\":\"white\",\"border-radius\":\"12px\",\"color\":\"black\",\"padding\":\"15px 24px\",\"border-width\":\"0px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(_vm._s(_vm.lang.tips8))])],1)],1),_c('div',{staticClass:\"upload\"},[_c('el-button',{staticStyle:{\"background\":\"#345CA0\",\"border-radius\":\"12px\",\"padding\":\"15px 24px\",\"border-width\":\"0px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-upload2\"}},[_vm._v(_vm._s(_vm.lang.up))]),_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":_vm.upload}})],1)]):_vm._e(),_c('div',{staticClass:\"list_item\"},[(_vm.list.length == 0)?_c('div',{staticClass:\"nodata\"},[_c('el-empty',{attrs:{\"description\":_vm.lang.nodata}})],1):_vm._e(),_vm._l((_vm.list),function(item){return _c('div',{key:item.id,staticClass:\"box\",attrs:{\"id\":item.id}},[_c('div',{staticClass:\"main\",on:{\"click\":function($event){return _vm.goProject(item.id)}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(item.loading),expression:\"item.loading\"}],staticClass:\"cover\",attrs:{\"element-loading-text\":_vm.lang.loading + '...'}},[_c('img',{staticClass:\"project_cover\",attrs:{\"src\":'https://www.simplerevise.com/img/project/v2/thumbnail/' + item.img_url + '.jpg',\"alt\":\"\"}})])]),_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"action\"},[(item.creater_id == _vm.user.id || _vm.user.role == 0 || _vm.user.id == 0)?_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){return _vm.rename(item.id)}}}):_vm._e(),(item.creater_id == _vm.user.id || _vm.user.role == 0)?_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.del(item.id)}}}):_vm._e()]),_c('p',[_vm._v(_vm._s(item.title))]),_c('p',[_vm._v(_vm._s(item.user_name)+\" · \"+_vm._s(item.create_time))])])])})],2),(_vm.uploading)?_c('div',{staticClass:\"uploading\"},[_c('div',{staticClass:\"box\"},[_c('el-progress',{attrs:{\"type\":\"circle\",\"percentage\":_vm.uploadProgress}}),_vm._l((_vm.uploadTips),function(item){return _c('p',{key:item},[_vm._v(_vm._s(item)+\"...\")])})],2)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"list\" v-loading=\"loading\">\r\n        <div class=\"list_head\" v-if=\"user.role != 2 && user.id != 0\">\r\n            <div class=\"left-button\">\r\n                <el-button type=\"primary\" size=\"small\" icon=\"el-icon-arrow-left\" plain @click=\"$router.push('/group')\"\r\n                    style=\"color: #000000;border-width: 0px;background-color: unset;font-weight: 500;\">{{ lang.back\r\n                    }}</el-button>\r\n            </div>\r\n            <div class=\"preference\">\r\n                <router-link :to=\"getDesignPreferenceLink()\">\r\n                    <el-button type=\"primary\" size=\"small\"\r\n                        style=\"background: white;border-radius: 12px;color:black;padding: 15px 24px;border-width: 0px;\">{{ lang.tips8\r\n                    }}</el-button>\r\n                </router-link>\r\n            </div>\r\n            <div class=\"upload\">\r\n                <el-button type=\"primary\" size=\"small\" icon=\"el-icon-upload2\"\r\n                    style=\"background: #345CA0;border-radius: 12px;padding: 15px 24px;border-width: 0px;\">{{ lang.up\r\n                    }}</el-button>\r\n                <input type=\"file\" @change=\"upload\">\r\n            </div>\r\n        </div>\r\n        <div class=\"list_item\">\r\n            <div class=\"nodata\" v-if=\"list.length == 0\"><el-empty :description=\"lang.nodata\"></el-empty></div>\r\n            <div class=\"box\" :id=\"item.id\" v-for=\"item in list\" :key=\"item.id\">\r\n                <div class=\"main\" @click=\"goProject(item.id)\">\r\n                    <div class=\"cover\" v-loading=\"item.loading\" :element-loading-text=\"lang.loading + '...'\">\r\n                        <!--\r\n                        <img class=\"project_cover\" :src=\"item.img_url.match('http') ? item.img_url : 'http://simplerevise.com/' + item.img_url\" alt=\"\">\r\n                        //-->\r\n                        <img class=\"project_cover\"\r\n                            :src=\"'https://www.simplerevise.com/img/project/v2/thumbnail/' + item.img_url + '.jpg'\" alt=\"\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"title\">\r\n                    <div class=\"action\">\r\n                        <i class=\"el-icon-edit\" @click=\"rename(item.id)\"\r\n                            v-if=\"item.creater_id == user.id || user.role == 0 || user.id == 0\"></i>\r\n                        <i class=\"el-icon-delete\" @click=\"del(item.id)\"\r\n                            v-if=\"item.creater_id == user.id || user.role == 0\"></i>\r\n                    </div>\r\n                    <p>{{ item.title }}</p>\r\n                    <p>{{ item.user_name }} · {{ item.create_time }}</p>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- 上传状态 -->\r\n        <div class=\"uploading\" v-if=\"uploading\">\r\n            <div class=\"box\">\r\n                <el-progress type=\"circle\" :percentage=\"uploadProgress\"></el-progress>\r\n                <p v-for=\"item in uploadTips\" :key=\"item\">{{ item }}...</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport timer from '../tools/timer';\r\nimport global from '@/tools/global';\r\nexport default {\r\n    name: 'list',\r\n    data() {\r\n        return {\r\n            user: {},\r\n            list: [],\r\n            loading: true,\r\n            uploadProgress: 0,\r\n            uploadTips: ['正在上傳文件'],\r\n            uploading: false,\r\n            httping: false,\r\n            lang: {}\r\n        }\r\n    },\r\n    created() {\r\n        this.lang = this.$lang('list');\r\n        this.getList();\r\n    },\r\n    mounted() {\r\n        this.user = JSON.parse(localStorage.getItem('designer_user'));\r\n        console.log(this.user)\r\n    },\r\n    methods: {\r\n        // 获取列表\r\n        getList() {\r\n            // 根据id列表获取项目信息\r\n            this.$ajax.get('/project/list/?id=' + this.$route.query.id).then(r => {\r\n                this.list = r.map(item => {\r\n                    item.create_time = timer.time('y-m-d', item.create_time * 1000);\r\n                    item.loading = true;\r\n                    return item;\r\n                });\r\n\r\n                // 处理封面展示方式，横图 = row，竖图 = col\r\n                this.$nextTick(() => {\r\n                    let imgs = document.querySelectorAll('.project_cover');\r\n                    imgs.forEach((item, index) => {\r\n                        let img = new Image();\r\n                        img.onload = () => {\r\n                            this.list[index].loading = false;\r\n                            if (img.width > img.height) {\r\n                                item.classList.add('row');\r\n                            } else {\r\n                                item.classList.add('col');\r\n                            }\r\n                        }\r\n                        img.src = item.src;\r\n                    })\r\n                    this.loading = false;\r\n                })\r\n            })\r\n        },\r\n        // 重命名\r\n        rename(id) {\r\n            let that = this;\r\n            that.$prompt(that.lang.tips2, that.lang.tips1, {\r\n                inputPattern: /\\S/,\r\n                inputErrorMessage: that.lang.tips5,\r\n                closeOnPressEscape: false,\r\n                closeOnClickModal: false,\r\n                cancelButtonText: that.lang.tips3,\r\n                confirmButtonText: that.lang.tips4,\r\n                beforeClose(action, instance, done) {\r\n                    if (that.httping) return;\r\n                    that.httping = true;\r\n                    if (action == 'confirm') {\r\n                        that.$ajax.post('/project/rename', {\r\n                            id,\r\n                            title: instance.inputValue\r\n                        }).then(r => {\r\n                            that.$message.success('success');\r\n                            that.list.map(item => {\r\n                                if (item.id == id) {\r\n                                    item.title = instance.inputValue;\r\n                                }\r\n                            })\r\n                            done();\r\n                            setTimeout(() => {\r\n                                that.httping = false;\r\n                            }, 300)\r\n                        })\r\n                    } else {\r\n                        done();\r\n                    }\r\n                }\r\n            }).catch(() => { });\r\n        },\r\n        // 删除项目\r\n        del(id) {\r\n            let that = this;\r\n            this.$confirm(that.lang.tips7, that.lang.tips6, {\r\n                type: 'warning',\r\n                closeOnPressEscape: false,\r\n                closeOnClickModal: false,\r\n                cancelButtonText: that.lang.tips3,\r\n                confirmButtonText: that.lang.tips4,\r\n                beforeClose(action, instance, done) {\r\n                    if (action == 'confirm') {\r\n                        if (that.httping) return;\r\n                        that.httping = true;\r\n                        let index = 0;\r\n                        that.list.map((item, i) => {\r\n                            if (item.id == id) {\r\n                                index = i;\r\n                            }\r\n                        })\r\n                        that.$ajax.get('/project/del/?id=' + id).then(r => {\r\n                            that.list.splice(index, 1);\r\n                            that.$message.success('success');\r\n                            done();\r\n                            setTimeout(() => {\r\n                                that.httping = false;\r\n                            }, 300)\r\n                        })\r\n                    } else {\r\n                        done();\r\n                    }\r\n                }\r\n            }).catch(() => { });\r\n        },\r\n        // 查看项目\r\n        goProject(id) {\r\n            this.$router.push({\r\n                path: '/project',\r\n                query: { id }\r\n            })\r\n        },\r\n        // 上传文件\r\n        upload() {\r\n            this.$nextTick(() => {\r\n                let input = document.querySelector('input');\r\n\r\n                // 如果是PDF文件\r\n                let fileTypes = ['jpg', 'jpeg', 'png', 'pdf'];\r\n                let lastName = global.getFileLastName(input.files[0].name);\r\n                if (fileTypes.indexOf(lastName) > -1) {\r\n\r\n                    if (input.files[0].size >= 60000000) {\r\n                        this.$message.error('檔案大小不能大過 60MB');\r\n                        input.value = '';\r\n                        return;\r\n                    }\r\n\r\n                    this.uploading = true;\r\n                    let data = {\r\n                        createrId: JSON.parse(localStorage.getItem('designer_user')).id,\r\n                        groupId: this.$route.query.id,\r\n                        fileType: lastName,\r\n                        file: null\r\n                    }\r\n\r\n                    data.file = input.files[0];\r\n                    this.uploadPost(data);\r\n                } else {\r\n                    this.$message.error('不支持的檔案類型');\r\n                    input.value = '';\r\n                    return;\r\n                }\r\n\r\n            })\r\n        },\r\n        // 上传图片文件\r\n        uploadPost(data) {\r\n            this.$ajax.post('/project/upload/', data, (r) => {\r\n                this.uploadProgress = parseInt(r);\r\n            }).then(result => {\r\n                setTimeout(() => {\r\n                    this.uploadTips.push('正在解析文件');\r\n                }, 1000);\r\n                setTimeout(() => {\r\n                    this.uploadTips.push('正在保存数据');\r\n                }, 2000);\r\n                setTimeout(() => {\r\n                    this.uploading = false;\r\n                    this.$router.go(0);\r\n                }, 3000)\r\n            })\r\n        },\r\n        getDesignPreferenceLink() {\r\n            return {\r\n                name: 'design',\r\n                query: this.$route.query\r\n            };\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url('../tools/common.less');\r\n\r\n.list {\r\n    width: calc(100% - 60px);\r\n    height: 100%;\r\n    padding: 0 30px;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-content: flex-start;\r\n    flex-wrap: wrap;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n\r\n    .uploading {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        background: rgba(0, 0, 0, 0.6);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        .box {\r\n            width: 300px;\r\n            padding: 50px 0;\r\n            background: #ffffff;\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            justify-content: center;\r\n            align-items: center;\r\n            border-radius: 5px;\r\n\r\n            p {\r\n                width: 100%;\r\n                text-align: center;\r\n                margin-top: 10px;\r\n                color: #888888;\r\n            }\r\n        }\r\n    }\r\n\r\n    .list_head {\r\n        width: calc(100% - 20px);\r\n        height: 40px;\r\n        padding: 20px 10px;\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        .left-button {\r\n            margin-right: auto;\r\n            /* Push the button to the left side */\r\n        }\r\n\r\n        .upload {\r\n            margin-left: 20px;\r\n            position: relative;\r\n\r\n            input {\r\n                width: 100px;\r\n                height: 35px;\r\n                opacity: 0;\r\n                cursor: pointer;\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                z-index: 99;\r\n            }\r\n        }\r\n    }\r\n\r\n    .list_item {\r\n        width: 100%;\r\n        height: calc(100% - 80px);\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        align-content: flex-start;\r\n        flex-wrap: wrap;\r\n        overflow-x: hidden;\r\n        overflow-y: auto;\r\n\r\n        .nodata {\r\n            width: 100%;\r\n            height: 70%;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n\r\n        .box {\r\n            width: 230px;\r\n            //height: 265px;\r\n            background: #FFFFFF;\r\n            border-radius: 12px;\r\n            margin: 10px;\r\n            padding: 15px;\r\n            box-shadow: 0px 3px 7px 0px rgba(0, 0, 0, 0.0500);\r\n\r\n            .main {\r\n                width: 230px;\r\n                height: 230px;\r\n                background: #F5F5F7;\r\n                border-radius: 8px;\r\n                transition: all 0.3s;\r\n                cursor: pointer;\r\n\r\n                .cover {\r\n                    width: 230px;\r\n                    height: 230px;\r\n\r\n                    img.row {\r\n                        width: 100%;\r\n                        border-radius: 8px;\r\n                    }\r\n\r\n                    img.col {\r\n                        height: 100%;\r\n                        border-radius: 8px;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .title {\r\n                text-align: left;\r\n                font-weight: 600;\r\n                font-size: 14px;\r\n                color: #000000;\r\n                margin-top: 15px;\r\n                position: relative;\r\n\r\n                p {\r\n                    line-height: 25px;\r\n                }\r\n\r\n                p:last-child {\r\n                    font-weight: 400;\r\n                    font-size: 12px;\r\n                    color: #86868B;\r\n                }\r\n\r\n                .action {\r\n                    position: absolute;\r\n                    left: 50%;\r\n                    top: 50%;\r\n                    transform: translateX(-50%) translateY(-50%);\r\n                    -webkit-transform: translateX(-50%) translateY(-50%);\r\n                    transition: all ease 0.35s;\r\n                    width: 100%;\r\n                    z-index: 2;\r\n                    text-align: center;\r\n                    opacity: 0;\r\n\r\n                    i {\r\n                        font-size: 14px;\r\n                        color: #000000;\r\n                        cursor: pointer;\r\n                        border-radius: 50%;\r\n                        padding: 8px;\r\n                        margin: 0px 10px;\r\n                        background-color: #FFFFFF;\r\n                        box-shadow: 0px 12px 16px -4px rgba(16, 24, 40, 0.08), 0px 4px 6px -2px rgba(16, 24, 40, 0.03);\r\n                    }\r\n                }\r\n\r\n                &:before {\r\n                    background: #FFFFFF;\r\n                    content: '';\r\n                    height: 100%;\r\n                    left: 0;\r\n                    opacity: 0;\r\n                    position: absolute;\r\n                    top: 0;\r\n                    transition: all ease 0.35s;\r\n                    width: 100%;\r\n                }\r\n            }\r\n\r\n            &:hover {\r\n                .title .action {\r\n                    opacity: 1;\r\n                }\r\n\r\n                .title:before {\r\n                    opacity: 0.9;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .list_item::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n}</style>","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=a67d9ece&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=a67d9ece&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a67d9ece\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 时间插件\r\n */\r\n\r\nconst timer = {\r\n\t// 小于10的数字前面补0\r\n\tto2: number => Number(number) < 10 ? `0${number}` : String(number),\r\n\r\n\t// 获取指定时间\r\n\ttime (format = 'y-m-d', time = null){\r\n\t\tlet date = time ? new Date(time) : new Date();\r\n\t\tformat = format.replace('y', date.getFullYear());\r\n\t\tformat = format.replace('m', this.to2(date.getMonth() + 1));\r\n\t\tformat = format.replace('d', this.to2(date.getDate()));\r\n\t\tformat = format.replace('h', this.to2(date.getHours()));\r\n\t\tformat = format.replace('i', this.to2(date.getMinutes()));\r\n\t\tformat = format.replace('s', this.to2(date.getSeconds()));\r\n\t\tformat = format.replace('w', date.getDay());\r\n\t\treturn format;\r\n\t},\r\n\r\n\t// 获取当前月份有多少天\r\n\tmonthLength (time = null){\r\n\t\tlet y = this.time('y', time) * 1;\r\n\t\tlet m = this.to2(this.time('m', time) * 1 + 1);\r\n\t\tlet unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\r\n\t\treturn Number(this.time('d', unix));\r\n\t},\r\n\r\n\t// 获取上个月有多少天\r\n\tpreMonthLenggth (time = null){\r\n\t\tlet y = this.time('y', time) * 1;\r\n\t\tlet m = this.to2(this.time('m', time) * 1);\r\n\t\tlet unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\r\n\t\treturn Number(this.time('d', unix));\r\n\t},\r\n\r\n\t// 获取下个月有多少天\r\n\tnextMonthLenggth (time = null){\r\n\t\tlet y = this.time('y', time) * 1;\r\n\t\tlet m = this.to2(this.time('m', time) * 1 + 2);\r\n\t\tlet unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\r\n\t\treturn Number(this.time('d', unix));\r\n\t},\r\n\r\n\t// 获取当月第一天\r\n\tmonthFirst (time = null){\r\n\t\tlet unix = this.time('y-m', time) + '-01';\r\n\t\treturn this.time('y-m-d', unix);\r\n\t},\r\n\r\n\t// 获取当月最后一天\r\n\tmonthLast (time = null){\r\n\t\tlet y = this.time('y', time) * 1;\r\n\t\tlet m = this.to2(this.time('m', time) * 1 + 1);\r\n\t\tlet unix = new Date(`${y}-${m}-01`).getTime() - 24 * 60 * 60 * 1000;\r\n\t\treturn this.time('y-m-d', unix);\r\n\t},\r\n\r\n\t// 获取上个月的今天\r\n\tpreMonthToday (time = null){\r\n\t\tlet y = this.time('y', time);\r\n\t\tlet m = this.to2(this.time('m', time) * 1 - 1);\r\n\t\tlet d = this.time('d', time);\r\n\t\treturn this.time('y-m-d', `${y}-${m}-${d}`);\r\n\t},\r\n\r\n\t// 获取下个月的今天\r\n\tnextMonthToday (time = null){\r\n\t\tlet y = this.time('y', time);\r\n\t\tlet m = this.to2(this.time('m', time) * 1 + 1);\r\n\t\tlet d = this.time('d', time);\r\n\t\treturn this.time('y-m-d', `${y}-${m}-${d}`);\r\n    },\r\n    \r\n    // 已经过去了多少时间\r\n    timeout (time){\r\n\r\n    },\r\n\r\n    // 倒计时\r\n    timeRemaining (time, format){\r\n        time = time - parseInt(new Date().getTime()/1000);\r\n        return this.unixToString(format, time);\r\n    },\r\n\r\n    // 时间戳的差值转化为时间字符串\r\n    unixToString (format, time){\r\n        let d = parseInt(time / 60 / 60 / 24);\r\n        let h = parseInt((time - d * 86400) / 3600);\r\n        let i = parseInt((time - d * 86400 - h * 3600) / 60);\r\n        let s = time - d * 86400 - h * 3600 - i * 60;\r\n        format = format.replace('d', timer.to2(timer.low(d)));\r\n        format = format.replace('h', timer.to2(timer.low(h)));\r\n        format = format.replace('i', timer.to2(timer.low(i)));\r\n        format = format.replace('s', timer.to2(timer.low(s)));\r\n        return format;\r\n    },\r\n\r\n    // 小于0的直接输出0\r\n    low (num){\r\n        return num < 0 ? 0 : num;\r\n    },\r\n\r\n\t// 把日期转成对象\r\n\tparse (string){\r\n\t\treturn new Date(string);\r\n\t}\r\n}\r\n\r\nexport default timer;"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","expression","staticClass","user","role","id","staticStyle","attrs","on","$event","$router","push","_v","_s","lang","back","getDesignPreferenceLink","tips8","up","upload","_e","list","length","nodata","_l","item","key","goProject","loading","img_url","creater_id","rename","del","title","user_name","create_time","uploadProgress","staticRenderFns","data","uploadTips","uploading","httping","created","$lang","getList","mounted","JSON","parse","localStorage","getItem","console","log","methods","$ajax","get","$route","query","then","r","map","timer","time","$nextTick","imgs","document","querySelectorAll","forEach","index","img","Image","onload","width","height","classList","add","src","that","$prompt","tips2","tips1","inputPattern","inputErrorMessage","tips5","closeOnPressEscape","closeOnClickModal","cancelButtonText","tips3","confirmButtonText","tips4","beforeClose","action","instance","done","post","inputValue","$message","success","setTimeout","catch","$confirm","tips7","tips6","type","i","splice","path","input","querySelector","fileTypes","lastName","global","files","indexOf","error","size","createrId","groupId","fileType","file","uploadPost","parseInt","result","go","component","to2","number","Number","String","format","date","Date","replace","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","monthLength","y","m","unix","getTime","preMonthLenggth","nextMonthLenggth","monthFirst","monthLast","preMonthToday","d","nextMonthToday","timeout","timeRemaining","unixToString","h","s","low","num","string"],"sourceRoot":""}